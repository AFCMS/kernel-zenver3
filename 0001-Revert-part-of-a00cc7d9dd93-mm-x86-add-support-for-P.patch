From 100c6404fbe6ddbe450b3a2bcac8cd6488d05401 Mon Sep 17 00:00:00 2001
From: Laura Abbott <labbott@redhat.com>
Date: Mon, 27 Feb 2017 10:46:13 -0800
Subject: [PATCH] Revert part of a00cc7d9dd93 ("mm, x86: add support for
 PUD-sized transparent hugepages")

Build issue, reported upstream.

Signed-off-by: Laura Abbott <labbott@redhat.com>
---
 arch/x86/include/asm/pgtable-3level.h | 2 --
 1 file changed, 2 deletions(-)

diff --git a/arch/x86/include/asm/pgtable-3level.h b/arch/x86/include/asm/pgtable-3level.h
index 8f50fb3..50d35e3 100644
--- a/arch/x86/include/asm/pgtable-3level.h
+++ b/arch/x86/include/asm/pgtable-3level.h
@@ -121,11 +121,9 @@ static inline void native_pmd_clear(pmd_t *pmd)
 	*(tmp + 1) = 0;
 }
 
-#ifndef CONFIG_SMP
 static inline void native_pud_clear(pud_t *pudp)
 {
 }
-#endif
 
 static inline void pud_clear(pud_t *pudp)
 {
-- 
2.7.4

